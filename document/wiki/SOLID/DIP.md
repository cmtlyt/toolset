# 依赖倒置原则

## 简介

依赖倒置原则 (Dependency Inversion Principle, DIP) 是**面向对象设计**的五大基本原则之一, 由 Robert C. Martin 在 1996 年首次提出. 该原则是 SOLID 原则中的 D 原则, 强调了软件设计中依赖关系的管理和组织方式, 旨在提高软件的灵活性、可扩展性和和测试性.

依赖倒置原则主要包括两个核心要点:

1. 高层模块不应该依赖于低层模块, 两者都应该依赖于抽象. 在传统的软件设计中, 高层模块 (如业务逻辑层) 往往直接依赖于底层模块 (如数据访问层). 依赖倒置原则要求我们颠倒这种依赖关系, 即不是高层直接依赖低层, 而是双方都依赖于一个抽象的接口或者抽象类. 这样做的好处是, 当低层模块发生变化时, 不会直接影响到高层模块, 降低了模块间的耦合度
2. 抽象不应该依赖于细节, 细节应该依赖于抽象. 这一点是对第一点的进一步阐述, 强调在设计中, 我们应该从具体的实现中抽离出接口或抽象类, 让具体的实现类去实现这些抽象定义. 这样一来, 具体实现的变更不会影响到使用这些抽象的代码, 保证了系统的灵活性和可扩展性

依赖倒置原则的实现通常需要借助一下设计模式和技术:

- 接口编程: 定义清晰的接口来规范模块间交互, 而不是直接编程到具体类上
- 依赖注入 (DI): 一种实现控制反转 (IoC, Inversion of Control) 的方式, 通过外部容器或框架来注入依赖对象, 而不是在类内部创建依赖对象, 从而实现依赖关系的解耦
- 抽象类: 当具体实现由共性操作时, 可以使用抽象类来提供默认行为, 并要求子类遵循一定的接口规范

遵循依赖倒置原则可以帮助我们构建更加灵活、可维护的系统, 是的系统更容易应对变化, 也便于进行单元测试.
