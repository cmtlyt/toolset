"use strict";(self.webpackChunk_cmtlyt_toolset=self.webpackChunk_cmtlyt_toolset||[]).push([["671"],{7682:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var d=t(2676),s=t(453),r=t(2287);function i(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre",div:"div",strong:"strong"},(0,s.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"池",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#池",children:"#"}),"池"]}),"\n",(0,d.jsx)(r.Z,{defaultLocale:"zh-CN"}),"\n",(0,d.jsxs)(n.h2,{id:"createpool---function",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createpool---function",children:"#"}),"createPool - (function)"]}),"\n",(0,d.jsxs)(n.p,{children:["创建池, 他是一个工厂函数, 返回一个 ",(0,d.jsx)(n.code,{children:"Pool<T>"})," 实例, 用于管理存储的对象, 池的大小可配置, 默认 5, 并且在按规定使用的情况下每个对象都具有所有权"]}),"\n",(0,d.jsxs)(n.h3,{id:"参数",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参数",children:"#"}),"参数"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"必填"}),(0,d.jsx)(n.th,{children:"参数"}),(0,d.jsx)(n.th,{children:"说明"}),(0,d.jsx)(n.th,{children:"类型"}),(0,d.jsx)(n.th,{children:"默认值"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"initFunction"}),(0,d.jsx)(n.td,{children:"初始化函数"}),(0,d.jsx)(n.td,{children:"() => T"}),(0,d.jsx)(n.td,{children:"()=>EMPTY"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"size"}),(0,d.jsx)(n.td,{children:"初始大小"}),(0,d.jsx)(n.td,{children:"number"}),(0,d.jsx)(n.td,{children:"5"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"poolId"}),(0,d.jsx)(n.td,{children:"唯一标识, 不传则直接创建新实例"}),(0,d.jsx)(n.td,{children:"string | symbol"}),(0,d.jsx)(n.td,{children:"‘’"})]})]})]}),"\n",(0,d.jsxs)(n.h3,{id:"返回值",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#返回值",children:"#"}),"返回值"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Pool<T>"})," 实例"]}),"\n",(0,d.jsxs)(n.h3,{id:"实例类型声明",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#实例类型声明",children:"#"}),"实例类型声明"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:"",children:"interface IPoolItem<T> {\n  data: () => T;\n  unUse: () => void;\n}\n\ninterface Pool<T = any> {\n  // 可用数量\n  usableCount: number;\n  // 是否关闭\n  isClose: boolean;\n\n  // 取出\n  get(): Promise<IPoolItem<T>>;\n  // 放回/添加\n  put(data: T): void;\n  // 关闭\n  close(callback: (data: T) => void): void;\n}\n"})}),"\n",(0,d.jsxs)(n.div,{className:"rspress-directive danger",children:[(0,d.jsx)(n.div,{className:"rspress-directive-title",children:"警告"}),(0,d.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,d.jsxs)(n.p,{children:["\n",(0,d.jsx)(n.code,{children:"get"})," 返回的 ",(0,d.jsx)(n.code,{children:"IPoolItem"})," 对象不建议和赋值，可能会影响管理"]}),(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"示例"})}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",meta:"",children:"const item = await pool.get();\n// 不建议或赋值\nconst data = item.data; // \uD83C\uDE32\nconst { data } = item; // \uD83C\uDE32\n"})})]})]}),"\n",(0,d.jsxs)(n.h2,{id:"getpool---function",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getpool---function",children:"#"}),"getPool - (function)"]}),"\n",(0,d.jsxs)(n.h3,{id:"参数-1",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参数-1",children:"#"}),"参数"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"必填"}),(0,d.jsx)(n.th,{children:"参数"}),(0,d.jsx)(n.th,{children:"说明"}),(0,d.jsx)(n.th,{children:"类型"}),(0,d.jsx)(n.th,{children:"默认值"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"poolId"}),(0,d.jsx)(n.td,{children:"唯一标识"}),(0,d.jsx)(n.td,{children:"string | symbol"}),(0,d.jsx)(n.td,{children:"''"})]})})]}),"\n",(0,d.jsxs)(n.h3,{id:"返回值-1",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#返回值-1",children:"#"}),"返回值"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Pool<T>"})," 实例"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"#%E5%AE%9E%E4%BE%8B%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E",children:"实例类型声明"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,d.jsx)(n,Object.assign({},e,{children:(0,d.jsx)(i,e)})):i(e)}let h=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["packages%2Fbase%2Ftools%2FcreatePool.md"]={toc:[{id:"createpool---function",text:"createPool - (function)",depth:2},{id:"参数",text:"参数",depth:3},{id:"返回值",text:"返回值",depth:3},{id:"实例类型声明",text:"实例类型声明",depth:3},{id:"getpool---function",text:"getPool - (function)",depth:2},{id:"参数-1",text:"参数",depth:3},{id:"返回值-1",text:"返回值",depth:3}],title:"池",frontmatter:{}}},2287:function(e,n,t){t.d(n,{Z:function(){return h}});var d=t(2676),s=t(5271),r=t(2117);t(4986);let i={"zh-CN":e=>`预计阅读时间: ${e.minutes>=1?`${Math.ceil(e.minutes)} 分钟`:"小于 1 分钟"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function c(e,n,t){let d=Object.keys(i).includes(n)?n:t;return i[d](e)}let h=e=>{let{defaultLocale:n="en-US"}=e,t=(0,r.Vi)().page.readingTimeData,i=(0,r.Jr)(),h=(0,r.e7)(),[l,a]=(0,s.useState)(c(t,i,n));return(0,s.useEffect)(()=>{a(c(t,i,n))},[i,t]),(0,d.jsx)("span",{"data-dark":String(h),className:"rp-reading-time",children:l})}}}]);