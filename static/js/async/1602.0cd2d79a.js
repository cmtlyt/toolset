"use strict";(self.webpackChunk_cmtlyt_document=self.webpackChunk_cmtlyt_document||[]).push([["1602"],{3202:function(e,n,r){r.r(n);var d=r(1549),s=r(6603),c=r(9603);function h(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",div:"div",code:"code",hr:"hr",strong:"strong",h4:"h4"},(0,s.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"\u521B\u5EFA-worker-\u51FD\u6570",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u521B\u5EFA-worker-\u51FD\u6570",children:"#"}),"\u521B\u5EFA Worker \u51FD\u6570"]}),"\n",(0,d.jsx)(c.Z,{defaultLocale:"zh-CN"}),"\n",(0,d.jsxs)(n.h2,{id:"createworkerfunc---function",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createworkerfunc---function",children:"#"}),"createWorkerFunc - (function)"]}),"\n",(0,d.jsx)(n.p,{children:"\u521B\u5EFA\u4E00\u4E2A\u5728 Worker \u4E2D\u8FD0\u884C\u7684\u51FD\u6570"}),"\n",(0,d.jsxs)(n.h3,{id:"\u53C2\u6570",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u6570",children:"#"}),"\u53C2\u6570"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"func"}),(0,d.jsx)(n.td,{children:"\u8981\u5728 Worker \u4E2D\u8FD0\u884C\u7684\u51FD\u6570"}),(0,d.jsx)(n.td,{children:"(...args:any[])=>any"}),(0,d.jsx)(n.td,{children:"-"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"importScripts"}),(0,d.jsx)(n.td,{children:"Worker \u8FD0\u884C\u65F6\u9700\u8981\u52A0\u8F7D\u7684\u811A\u672C"}),(0,d.jsx)(n.td,{children:"string[]"}),(0,d.jsx)(n.td,{children:"[]"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"options"}),(0,d.jsx)(n.td,{children:"\u9009\u9879"}),(0,d.jsx)(n.td,{children:"object"}),(0,d.jsx)(n.td,{children:"{}"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"options.reuse"}),(0,d.jsx)(n.td,{children:"\u662F\u5426\u590D\u7528 Worker"}),(0,d.jsx)(n.td,{children:"boolean"}),(0,d.jsx)(n.td,{children:"true"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center"}),(0,d.jsx)(n.td,{children:"options.needPost"}),(0,d.jsx)(n.td,{children:"\u662F\u5426\u9700\u8981\u5C06\u6240\u6709\u53C2\u6570\u6253\u5305\u4E3A\u6570\u7EC4"}),(0,d.jsx)(n.td,{children:"boolean"}),(0,d.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,d.jsxs)(n.div,{className:"rspress-directive danger",children:[(0,d.jsx)(n.div,{className:"rspress-directive-title",children:"\u8B66\u544A"}),(0,d.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,d.jsxs)(n.p,{children:["\n",(0,d.jsx)(n.code,{children:"needPost"})," \u4E3A ",(0,d.jsx)(n.code,{children:"true"})," \u65F6, ",(0,d.jsx)(n.code,{children:"func"})," \u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F1A\u88AB\u66FF\u6362\u4E3A ",(0,d.jsx)(n.code,{children:"postMessage"}),", \u7528\u6237\u81EA\u5DF1\u7684\u53C2\u6570\u4ECE\u5F62\u53C2\u5217\u8868\u7B2C\u4E8C\u9879\u5F00\u59CB"]}),(0,d.jsx)(n.hr,{}),(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"postMessage"})}),(0,d.jsx)(n.p,{children:"\u8FD0\u884C\u4E2D\u8FD4\u56DE\u4E2D\u95F4\u7ED3\u679C"}),(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"data"}),(0,d.jsx)(n.td,{children:"\u8981\u53D1\u9001\u7684\u6570\u636E"}),(0,d.jsx)(n.td,{children:"any"}),(0,d.jsx)(n.td,{children:"-"})]})})]}),(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),(0,d.jsx)(n.p,{children:"\u65E0"})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"\u8FD4\u56DE\u503C",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8FD4\u56DE\u503C",children:"#"}),"\u8FD4\u56DE\u503C"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"IWorkerFuncs"}),(0,d.jsxs)(n.td,{children:["\u5305\u542B\u4E86 ",(0,d.jsx)(n.code,{children:"run"})," ",(0,d.jsx)(n.code,{children:"dispose"})," ",(0,d.jsx)(n.code,{children:"on"})," ",(0,d.jsx)(n.code,{children:"remove"})," ",(0,d.jsx)(n.code,{children:"clearOn"})," ",(0,d.jsx)(n.code,{children:"onOnce"})," \u65B9\u6CD5\u7684\u5BF9\u8C61"]})]})})]}),"\n",(0,d.jsxs)(n.h4,{id:"run",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#run",children:"#"}),"run"]}),"\n",(0,d.jsx)(n.p,{children:"\u8FD0\u884C\u51FD\u6570"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"...args"}),(0,d.jsx)(n.td,{children:"\u548C\u4F20\u5165 func \u76F8\u540C\u7684\u53C2\u6570\u5217\u8868"}),(0,d.jsx)(n.td,{children:"any[]"}),(0,d.jsx)(n.td,{children:"-"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Promise"}),(0,d.jsx)(n.td,{children:"func \u7684\u8FD4\u56DE\u7ED3\u679C\u5728 Promise \u7684 then \u4E2D\u63A5\u6536"})]})})]}),"\n",(0,d.jsxs)(n.h4,{id:"dispose",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dispose",children:"#"}),"dispose"]}),"\n",(0,d.jsx)(n.p,{children:"\u9500\u6BC1 Worker"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,d.jsx)(n.div,{className:"rspress-directive-title",children:"\u8B66\u544A"}),(0,d.jsx)(n.div,{className:"rspress-directive-content",children:(0,d.jsx)(n.p,{children:"\n\u4E0B\u9762\u7684\u65B9\u6CD5\u53EA\u6709\u5728 needPost \u4E3A true \u65F6\u624D\u6709\u6548"})})]}),"\n",(0,d.jsxs)(n.h4,{id:"on",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#on",children:"#"}),"on"]}),"\n",(0,d.jsx)(n.p,{children:"\u76D1\u542C postMessage \u53D1\u9001\u7684\u6D88\u606F"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"callback"}),(0,d.jsx)(n.td,{children:"\u56DE\u8C03\u51FD\u6570"}),(0,d.jsx)(n.td,{children:"(data: any) => void"}),(0,d.jsx)(n.td,{children:"-"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsxs)(n.h4,{id:"remove",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#remove",children:"#"}),"remove"]}),"\n",(0,d.jsx)(n.p,{children:"\u79FB\u9664\u76D1\u542C"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"callback"}),(0,d.jsx)(n.td,{children:"\u56DE\u8C03\u51FD\u6570"}),(0,d.jsx)(n.td,{children:"TAnyFunc"}),(0,d.jsx)(n.td,{children:"-"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsxs)(n.h4,{id:"clearon",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#clearon",children:"#"}),"clearOn"]}),"\n",(0,d.jsx)(n.p,{children:"\u6E05\u9664\u6240\u6709\u76D1\u542C"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"}),"\n",(0,d.jsxs)(n.h4,{id:"ononce",children:[(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ononce",children:"#"}),"onOnce"]}),"\n",(0,d.jsx)(n.p,{children:"\u53EA\u76D1\u542C\u4E00\u6B21"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u53C2\u6570"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{align:"center",children:"\u5FC5\u586B"}),(0,d.jsx)(n.th,{children:"\u53C2\u6570\u540D"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,d.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{align:"center",children:"*"}),(0,d.jsx)(n.td,{children:"callback"}),(0,d.jsx)(n.td,{children:"\u56DE\u8C03\u51FD\u6570"}),(0,d.jsx)(n.td,{children:"(data: any) => void"}),(0,d.jsx)(n.td,{children:"-"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FD4\u56DE\u503C"})}),"\n",(0,d.jsx)(n.p,{children:"\u65E0"})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,d.jsx)(n,Object.assign({},e,{children:(0,d.jsx)(h,e)})):h(e)}n.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["packages%2Fbase%2Ftools%2FcreateWorkerFunc.md"]={toc:[{id:"createworkerfunc---function",text:"createWorkerFunc - (function)",depth:2},{id:"\u53C2\u6570",text:"\u53C2\u6570",depth:3},{id:"\u8FD4\u56DE\u503C",text:"\u8FD4\u56DE\u503C",depth:3},{id:"run",text:"run",depth:4},{id:"dispose",text:"dispose",depth:4},{id:"on",text:"on",depth:4},{id:"remove",text:"remove",depth:4},{id:"clearon",text:"clearOn",depth:4},{id:"ononce",text:"onOnce",depth:4}],title:"\u521B\u5EFA Worker \u51FD\u6570",frontmatter:{}}},9603:function(e,n,r){r(9369);var d=r(1549),s=r(4194),c=r(8893);r(6562);let h={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"\u5C0F\u4E8E 1 \u5206\u949F"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function i(e,n,r){let d=Object.keys(h).includes(n)?n:r;return h[d](e)}n.Z=e=>{let{defaultLocale:n="en-US"}=e,r=(0,c.Vi)().page.readingTimeData,h=(0,c.Jr)(),t=(0,c.e7)(),[l,x]=(0,s.useState)(i(r,h,n));return(0,s.useEffect)(()=>{x(i(r,h,n))},[h,r]),(0,d.jsx)("span",{"data-dark":String(t),className:"rp-reading-time",children:l})}}}]);